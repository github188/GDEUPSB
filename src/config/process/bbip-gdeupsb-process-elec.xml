<x:beans xmlns:x="http://www.springframework.org/schema/beans"
	xmlns="http://www.bocom.com/schema/jump-core" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
						http://www.bocom.com/schema/jump-core http://www.bocom.com/schema/jump-core-1.0.xsd">

		
	<!-- 南方电网 缴费结果查询
			<process id="gdeupsb.bbipPayResultQuery" template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			   			<action id="act" ref="gdeupsb.preQryResultAction"/>
			   </actions>
			</process>
			-->

		
	<!-- 南方电网  银行发起存入预付款-->
	 		<process id="gdeupsb.advanceTrade"  template="eups.payOnlineTemplateExt"  interceptors="eups.thdTransInterceptor">
			  <actions>
			   			<action id="preCheckAction"  ref="gdeupsb.advanceTradeAction" />
		   				<action id="preHostAction"   ref="gdeupsb.nullAction" />
		   				<action id="preThdAction"   ref="gdeupsb.advanceTradeTimeAction" />
			   			<action id="aftThdAction"   ref="gdeupsb.advanceTradeStrCastDateAction" /> 
			   </actions>
			</process>	

	<!-- 南方电网  抹账查询-->
		<process id="gdeupsb.CancelQryOnline"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			   			<action id="act"  ref="gdeupsb.tallyCancelQryOnlineAction"/>
			   </actions>
			</process>
			
	<!-- 南方电网  银行查询客户交费记录-->
		<process id="gdeupsb.qryCusPayRecord"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			 			 <action id="act" ref="eups.checkComTxnCtlAction" operations="checkThdTxnCtlNormal" />
			   			  <action id="act"  ref="gdeupsb.qryCusPayRecordAction"/>
			   </actions>
		</process>			

	<!-- 南方电网  供电到银行变更代扣协议请求-->
		<process id="gdeupsb.powerChangeTreaty"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			   			  <action id="act"  ref="gesupsb.powerChangeTreatyAction"/>
			   </actions>
		</process>
		
	<!-- 南方电网  查询客户基本信息-->
		<process id="gdeupsb.qryCusBaseMsg"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			   			  <action id="act"  ref="gdeupsb.qryCusBaseMsgAction"/>
			   </actions>
		</process>		
		
	<!-- 南方电网  代收日志服务记录-->
		<process id="gdeupsb.logService"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			   			  <action id="act"  ref="gdeupsb.logServiceAction"/>
			   </actions>
		</process>			
	
	<!-- 南方电网  查询客户信息-->
		<process id="gdeupsb.qryCusMsg"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
			  <actions>
			   			  <action id="act"  ref="gdeupsb.qryCusMsgAction"/>
			   			  <action id="act" ref="eups.registerUnAccServiceAction"/>
			   </actions>
		</process>		
	<!-- 南方电网  供电批量代扣取消交易-->		
		<process id="gdeupsb.cancelBatch"  template="eups.simpleTran"  interceptors="eups.thdELEC00Interceptor">
				  <actions>
				   			  <action id="act"  ref="gdeupsb.CancelBatchAction"/>
				   </actions>
			</process>			
	
		<!-- 南方电网  协议新增修改注销-->		
		<process id="gdeupsb.cusAgentService"  template="eups.simpleTran"  interceptors="eups.transMessageInterceptor">
				  <actions>
				   			  <action id="act"  ref="gdeupsb.cusAgentServiceAction"/>
				   </actions>
			</process>		
	
					
	<!-- 联机单笔抹帐  -->
	<process id="eups.automaticCancelELEC00" template="eups.cancelOnlineTemplate"  interceptors="eups.thdELEC00Interceptor" >
	   <actions>
	       <!-- 第三方抹账前处理 -->
	       <action id="preCalAction" ref="eups.preCancelStrategyAction"/>
	       <!-- 第三方抹账后处理 -->
	       <action id="aftCalAction" ref="eups.aftCancelStrategyAction"/>
	   </actions>
	</process>
	
	
	<!-- 联机银行方单边记账（银行记帐系统自带冲正，无需发起冲正） -->
	<process id="eups.payUnilateralToBankELEC00" template="eups.payUnilateralNoRvsTemplateExt"
		interceptors="eups.thdELEC00Interceptor">
		<actions>
			<!-- 交易前服务处理 -->
			<!-- <action id="preCheckAction" ref="eups.prepareCheckDealStrategyAction" 
				/> -->
			<action id="preCheckAction" ref="eups.payUnilateralToBankServiceAction"
				operations="prepareCheckDeal" />
			<!-- 交易前检查 -->
			<action id="preAction" ref="eups.checkComTxnCtlAction"
				operations="checkThdTxnCtlNormal" />
			<action id="preAction" ref="eups.checkCusAgrAction" />
			<!-- 记账前处理 -->
			<!-- <action id="preAction" ref="eups.prePayToBankStrategyAction"/> -->
			<action id="preAction" ref="eups.payUnilateralToBankServiceAction"
				operations="prePayToBank" />
			<action id="preAction" ref="eups.checkThdReqJnlAction" />
			<action id="preAction" ref="eups.queryCusAcInfAction"
				operations="cusAcOldToNew" />
			<action id="preAction" ref="eups.queryCusAcInfAction"
				operations="queryCusAcTyp" />
			<action id="preAction" ref="eups.preparePaymentInfoAction" />
			<!-- 检查渠道限额，如果配置了渠道限额则检查 -->
			<action id="preAction" ref="eups.checkChlAmtLimAction" />
			<!-- 联机记账预处理 -->
			<action id="initAction" ref="eups.initPaymentInfoAction" />
			<!-- 联机531代收付交易主机记账 （自调冲正） -->
			<action id="businessAction" ref="eups.bbipPaymentExt" />
			<action id="businessAction" ref="eups.saveCBPaymentResultAction" />
			<!-- 交易结果 -->
			<!-- 记账后返回处理 -->
			<!-- <action id="finalizeAction" ref="eups.aftPayToBankStrategyAction"/> -->
			<action id="finalizeAction" ref="eups.payUnilateralToBankServiceAction"
				operations="aftPayToBank" />
			<action id="finalizeAction" ref="eups.setTransJournalStateAction" />
			<action id="finalizeAction" ref="eups.savePaymentResultAction" />
		</actions>
	</process>
	
</x:beans>
