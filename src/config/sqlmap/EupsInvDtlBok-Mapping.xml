<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bocom.bbip.gdeupsb.entity.EupsInvDtlBok" >
  <resultMap id="basicResultMap" type="com.bocom.bbip.gdeupsb.entity.EupsInvDtlBok" >
    <result column="INVTYP" property="invtyp" jdbcType="CHAR" />
    <result column="IVBEGNO" property="ivbegno" jdbcType="CHAR" />
    <result column="IVENDNO" property="ivendno" jdbcType="CHAR" />
    <result column="TOLNUM" property="tolnum" jdbcType="CHAR" />
    <result column="OPRTLR" property="oprtlr" jdbcType="CHAR" />
    <result column="REGTLR" property="regtlr" jdbcType="CHAR" />
    <result column="NODNO" property="nodno" jdbcType="CHAR" />
    <result column="TCKNO" property="tckno" jdbcType="CHAR" />
    <result column="REGDAT" property="regdat" jdbcType="CHAR" />
    <result column="SEQNO" property="seqno" jdbcType="CHAR" />
    <result column="USEDAT" property="usedat" jdbcType="CHAR" />
    <result column="CHKDAT" property="chkdat" jdbcType="CHAR" />
    <result column="USENUM" property="usenum" jdbcType="CHAR" />
    <result column="CLRNUM" property="clrnum" jdbcType="CHAR" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
  </resultMap>
  <sql id="baseColumnList" >
    INVTYP, IVBEGNO, IVENDNO, TOLNUM, OPRTLR, REGTLR, NODNO, TCKNO, REGDAT, SEQNO, USEDAT, 
    CHKDAT, USENUM, CLRNUM, STATUS
  </sql>
  <select id="find" resultMap="basicResultMap" >
    select
    <include refid="baseColumnList" />
    from ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
    <trim prefix="WHERE" prefixOverrides="AND" >
      <if test="invtyp!=null" >
        AND  INVTYP=#{invtyp,jdbcType=CHAR}
      </if>
      <if test="ivbegno!=null" >
        AND  IVBEGNO=#{ivbegno,jdbcType=CHAR}
      </if>
      <if test="ivendno!=null" >
        AND  IVENDNO=#{ivendno,jdbcType=CHAR}
      </if>
      <if test="tolnum!=null" >
        AND  TOLNUM=#{tolnum,jdbcType=CHAR}
      </if>
      <if test="oprtlr!=null" >
        AND  OPRTLR=#{oprtlr,jdbcType=CHAR}
      </if>
      <if test="regtlr!=null" >
        AND  REGTLR=#{regtlr,jdbcType=CHAR}
      </if>
      <if test="nodno!=null" >
        AND  NODNO=#{nodno,jdbcType=CHAR}
      </if>
      <if test="tckno!=null" >
        AND  TCKNO=#{tckno,jdbcType=CHAR}
      </if>
      <if test="regdat!=null" >
        AND  REGDAT=#{regdat,jdbcType=CHAR}
      </if>
      <if test="seqno!=null" >
        AND  SEQNO=#{seqno,jdbcType=CHAR}
      </if>
      <if test="usedat!=null" >
        AND  USEDAT=#{usedat,jdbcType=CHAR}
      </if>
      <if test="chkdat!=null" >
        AND  CHKDAT=#{chkdat,jdbcType=CHAR}
      </if>
      <if test="usenum!=null" >
        AND  USENUM=#{usenum,jdbcType=CHAR}
      </if>
      <if test="clrnum!=null" >
        AND  CLRNUM=#{clrnum,jdbcType=CHAR}
      </if>
      <if test="status!=null" >
        AND  STATUS=#{status,jdbcType=CHAR}
      </if>
    </trim>
  </select>
  <insert id="insert" parameterType="com.bocom.bbip.gdeupsb.entity.EupsInvDtlBok" >
    insert into ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="invtyp != null" >
        INVTYP,
      </if>
      <if test="ivbegno != null" >
        IVBEGNO,
      </if>
      <if test="ivendno != null" >
        IVENDNO,
      </if>
      <if test="tolnum != null" >
        TOLNUM,
      </if>
      <if test="oprtlr != null" >
        OPRTLR,
      </if>
      <if test="regtlr != null" >
        REGTLR,
      </if>
      <if test="nodno != null" >
        NODNO,
      </if>
      <if test="tckno != null" >
        TCKNO,
      </if>
      <if test="regdat != null" >
        REGDAT,
      </if>
      <if test="seqno != null" >
        SEQNO,
      </if>
      <if test="usedat != null" >
        USEDAT,
      </if>
      <if test="chkdat != null" >
        CHKDAT,
      </if>
      <if test="usenum != null" >
        USENUM,
      </if>
      <if test="clrnum != null" >
        CLRNUM,
      </if>
      <if test="status != null" >
        STATUS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="invtyp != null" >
        #{invtyp,jdbcType=CHAR},
      </if>
      <if test="ivbegno != null" >
        #{ivbegno,jdbcType=CHAR},
      </if>
      <if test="ivendno != null" >
        #{ivendno,jdbcType=CHAR},
      </if>
      <if test="tolnum != null" >
        #{tolnum,jdbcType=CHAR},
      </if>
      <if test="oprtlr != null" >
        #{oprtlr,jdbcType=CHAR},
      </if>
      <if test="regtlr != null" >
        #{regtlr,jdbcType=CHAR},
      </if>
      <if test="nodno != null" >
        #{nodno,jdbcType=CHAR},
      </if>
      <if test="tckno != null" >
        #{tckno,jdbcType=CHAR},
      </if>
      <if test="regdat != null" >
        #{regdat,jdbcType=CHAR},
      </if>
      <if test="seqno != null" >
        #{seqno,jdbcType=CHAR},
      </if>
      <if test="usedat != null" >
        #{usedat,jdbcType=CHAR},
      </if>
      <if test="chkdat != null" >
        #{chkdat,jdbcType=CHAR},
      </if>
      <if test="usenum != null" >
        #{usenum,jdbcType=CHAR},
      </if>
      <if test="clrnum != null" >
        #{clrnum,jdbcType=CHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  <select id="findCount" resultType="java.lang.Integer" >
    select count(*) from ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
    <trim prefix="WHERE" prefixOverrides="AND" >
      <if test="invtyp!=null" >
        AND  INVTYP=#{invtyp,jdbcType=CHAR}
      </if>
      <if test="ivbegno!=null" >
        AND  IVBEGNO=#{ivbegno,jdbcType=CHAR}
      </if>
      <if test="ivendno!=null" >
        AND  IVENDNO=#{ivendno,jdbcType=CHAR}
      </if>
      <if test="tolnum!=null" >
        AND  TOLNUM=#{tolnum,jdbcType=CHAR}
      </if>
      <if test="oprtlr!=null" >
        AND  OPRTLR=#{oprtlr,jdbcType=CHAR}
      </if>
      <if test="regtlr!=null" >
        AND  REGTLR=#{regtlr,jdbcType=CHAR}
      </if>
      <if test="nodno!=null" >
        AND  NODNO=#{nodno,jdbcType=CHAR}
      </if>
      <if test="tckno!=null" >
        AND  TCKNO=#{tckno,jdbcType=CHAR}
      </if>
      <if test="regdat!=null" >
        AND  REGDAT=#{regdat,jdbcType=CHAR}
      </if>
      <if test="seqno!=null" >
        AND  SEQNO=#{seqno,jdbcType=CHAR}
      </if>
      <if test="usedat!=null" >
        AND  USEDAT=#{usedat,jdbcType=CHAR}
      </if>
      <if test="chkdat!=null" >
        AND  CHKDAT=#{chkdat,jdbcType=CHAR}
      </if>
      <if test="usenum!=null" >
        AND  USENUM=#{usenum,jdbcType=CHAR}
      </if>
      <if test="clrnum!=null" >
        AND  CLRNUM=#{clrnum,jdbcType=CHAR}
      </if>
      <if test="status!=null" >
        AND  STATUS=#{status,jdbcType=CHAR}
      </if>
    </trim>
  </select>
  <select id="findAll" resultMap="basicResultMap" >
    select 
    <include refid="baseColumnList" />
    from ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
  </select>
  <select id="findIsExist" resultMap="basicResultMap" >
    select 
    <include refid="baseColumnList" />
    from ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
    WHERE    InvTyp=#{invtyp,jdbcType=CHAR}   
    			AND ((IvBegNo &lt;= #{ivbegno,jdbcType=CHAR} and  IvEndNo &gt;= #{ivbegno,jdbcType=CHAR})  
    						OR (IvBegNo &lt;  #{ivendno,jdbcType=CHAR} and  IvEndNo &gt;=#{ivendno,jdbcType=CHAR} ))
  </select>
  <update id="updateCheck" parameterType="com.bocom.bbip.gdeupsb.entity.EupsInvTermInf" >
    update ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
    	set  USENUM=#{usenum,jdbcType=CHAR},CLRNUM=#{clrnum,jdbcType=CHAR},
    		CHKDAT=#{chkdat,jdbcType=CHAR},STATUS=#{status,jdbcType=CHAR}
          where  INVTYP=#{invtyp,jdbcType=CHAR} AND IVBEGNO=#{ivbegno,jdbcType=CHAR} 
          	AND IVENDNO=#{ivendno,jdbcType=CHAR} AND STATUS='1'
  </update>
  <update id="updateStatus" parameterType="com.bocom.bbip.gdeupsb.entity.EupsInvTermInf" >
    update ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
    	set  STATUS=#{status,jdbcType=CHAR},USEDAT=#{usedat,jdbcType=CHAR},
    		SEQNO=#{seqno,jdbcType=CHAR}
          where  INVTYP=#{invtyp,jdbcType=CHAR} AND IVBEGNO=#{ivbegno,jdbcType=CHAR} 
          	AND OPRTLR=#{oprtlr,jdbcType=CHAR} AND NODNO=#{nodno,jdbcType=CHAR}
          	AND STATUS='0'
  </update>
  <delete id="deleteInvDtlBok" parameterType="com.bocom.bbip.gdeupsb.entity.EupsInvTermInf" >
    delete from  ${EUPS_SCHEMA}.EUPS_INV_DTL_BOK
          where  TCKNO=#{tckno,jdbcType=CHAR} AND REGDAT=#{regdat,jdbcType=CHAR} 
          	AND REGTLR=#{regtlr,jdbcType=CHAR} AND STATUS='0'
  </delete>
</mapper>